{"version":3,"file":"static/js/810.9c6958ac.chunk.js","mappings":"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","sources":["webpack://pizza-test/./src/feature/filters/Filters.module.scss?cdc2","feature/filters/Filters.tsx","webpack://pizza-test/./src/pages/main/MainPage.module.scss?9b6a","pages/main/Main.page.tsx","shared/hooks/useTypedSelector.ts","shared/hooks/useActions.ts","shared/hooks/getEmployeeById.ts","widgets/employee-form/resolvers/employee-form.resolver.ts","widgets/employee-form/consts/get-default-values.ts","widgets/employee-form/hooks/useEmployeeForm.ts","webpack://pizza-test/./src/widgets/employee-form/ui/EmployeeForm.module.scss?54c6","widgets/employee-form/ui/EmployeeForm.tsx","webpack://pizza-test/./src/widgets/header/Header.module.scss?22d4","widgets/header/Header.tsx","entities/employee/ui/EmployeeTableHead.tsx","shared/utils/getRole.ts","entities/employee/ui/EmployeeTableRow.tsx","webpack://pizza-test/./src/widgets/employees-table/EmployeesTable.module.scss?191d","widgets/employees-table/EmployeesTable.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"filtersWrapper\":\"Filters_filtersWrapper__6eKMG\",\"filters\":\"Filters_filters__lJBZG\"};","import { useDispatch } from 'react-redux'\r\nimport { ChangeEventHandler } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nimport { ArchiveCheckbox, Button, RoleSelect } from 'shared/components'\r\nimport { useActions, useTypedSelector } from 'shared/hooks'\r\nimport { RolesType } from 'shared/types'\r\n\r\nimport styles from './Filters.module.scss'\r\n\r\nconst Filters = () => {\r\n\tconst dispatch = useDispatch()\r\n\tconst navigate = useNavigate()\r\n\r\n\tconst { archiveFilter, roleFilter } = useTypedSelector(state => state)\r\n\tconst { filterByArchive, filterByRole } = useActions()\r\n\r\n\tconst handleFilterByRole = (value?: string) => {\r\n\t\tdispatch(filterByRole(value as RolesType | '-'))\r\n\t}\r\n\r\n\tconst handleFilterByArchive: ChangeEventHandler<HTMLInputElement> = e => {\r\n\t\tdispatch(filterByArchive(e.target.checked))\r\n\t}\r\n\treturn (\r\n\t\t<div className={styles.filtersWrapper}>\r\n\t\t\t<div className={styles.filters}>\r\n\t\t\t\t<RoleSelect onChange={handleFilterByRole} value={roleFilter} />\r\n\t\t\t\t<ArchiveCheckbox\r\n\t\t\t\t\tonChange={handleFilterByArchive}\r\n\t\t\t\t\tchecked={archiveFilter}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<Button variant='outlined' onClick={() => navigate('/new-employee')}>\r\n\t\t\t\tДобавить сотрудника\r\n\t\t\t</Button>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Filters\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"MainPage_wrapper__ijeCk\",\"main\":\"MainPage_main__0n+l+\"};","import { EmployeesTable, Header } from 'widgets'\r\nimport { Filters } from 'feature'\r\n\r\nimport styles from './MainPage.module.scss'\r\n\r\nconst MainPage = () => {\r\n\treturn (\r\n\t\t<div className={styles.wrapper}>\r\n\t\t\t<Header crumbs={[]} title='Список сотрудников' />\r\n\t\t\t<main className={styles.main}>\r\n\t\t\t\t<Filters />\r\n\t\t\t\t<EmployeesTable />\r\n\t\t\t</main>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default MainPage\r\n","import { useSelector, TypedUseSelectorHook } from 'react-redux'\r\nimport { StateType } from '../store/store'\r\n\r\nexport const useTypedSelector: TypedUseSelectorHook<StateType> = useSelector\r\n","import { actions } from '../store/main.slice'\r\n\r\nexport const useActions = () => {\r\n\treturn { ...actions }\r\n}\r\n","import { useTypedSelector } from './useTypedSelector'\r\n\r\nexport const useGetEmployeeById = (id: number) => {\r\n\tconst employees = useTypedSelector(state => state.employees)\r\n\r\n\treturn employees.find(e => e.id === id)\r\n}\r\n","import { FieldErrors, Resolver } from 'react-hook-form'\r\n\r\nimport { EmployeeFormType } from 'shared/types'\r\n\r\nexport const resolver: Resolver<EmployeeFormType> = async values => {\r\n\tconst errors: FieldErrors<EmployeeFormType> = {}\r\n\r\n\tif (!values.name) {\r\n\t\terrors.name = {\r\n\t\t\ttype: 'required',\r\n\t\t\tmessage: 'Введите имя'\r\n\t\t}\r\n\t}\r\n\r\n\tif (!values.lastName) {\r\n\t\terrors.lastName = {\r\n\t\t\ttype: 'required',\r\n\t\t\tmessage: 'Введите фамилию'\r\n\t\t}\r\n\t}\r\n\r\n\tif (!values.birthday || values.birthday.length !== 10) {\r\n\t\terrors.birthday = {\r\n\t\t\ttype: 'required',\r\n\t\t\tmessage: 'Введите дату рождения'\r\n\t\t}\r\n\t}\r\n\r\n\tif (!values.phone || values.phone.length !== 17) {\r\n\t\terrors.phone = {\r\n\t\t\ttype: 'required',\r\n\t\t\tmessage: 'Введите номер телефона'\r\n\t\t}\r\n\t}\r\n\r\n\tif (!values.role || values.role === '-') {\r\n\t\terrors.role = {\r\n\t\t\ttype: 'required',\r\n\t\t\tmessage: 'Выберите роль'\r\n\t\t}\r\n\t}\r\n\treturn { values, errors }\r\n}\r\n","import { EmployeeFormType, EmployeeType } from 'shared/types'\r\n\r\nexport const getDefaultValues = (employee?: EmployeeType): EmployeeFormType => {\r\n\tconst names = employee?.name?.split(' ') ?? []\r\n\r\n\treturn {\r\n\t\tisArchive: employee?.isArchive ?? false,\r\n\t\trole: employee?.role ?? '-',\r\n\t\tphone: employee?.phone ?? '',\r\n\t\tname: names[0] ?? '',\r\n\t\tlastName: names[1] ?? '',\r\n\t\tbirthday: employee?.birthday ?? ''\r\n\t}\r\n}\r\n","import { useNavigate, useParams } from 'react-router-dom'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useForm } from 'react-hook-form'\r\nimport { enqueueSnackbar } from 'notistack'\r\n\r\nimport { EmployeeFormType, RolesType } from 'shared/types'\r\nimport { useActions, useGetEmployeeById } from 'shared/hooks'\r\n\r\nimport { resolver } from '../resolvers/employee-form.resolver'\r\nimport { getDefaultValues } from '../consts/get-default-values'\r\n\r\nexport const useEmployeeForm = () => {\r\n\tconst { employeeId } = useParams()\r\n\r\n\tconst dispatch = useDispatch()\r\n\tconst navigate = useNavigate()\r\n\r\n\tconst { addEmployee, editEmployee } = useActions()\r\n\tconst employee = useGetEmployeeById(Number(employeeId) ?? 0)\r\n\r\n\tconst {\r\n\t\thandleSubmit,\r\n\t\tregister,\r\n\t\tcontrol,\r\n\t\tformState: { errors }\r\n\t} = useForm<EmployeeFormType>({\r\n\t\tdefaultValues: getDefaultValues(employee),\r\n\t\tresolver\r\n\t})\r\n\r\n\tconst handleEditEmployee = (data: EmployeeFormType, name: string) => {\r\n\t\tconst editedEmployee = {\r\n\t\t\t...data,\r\n\t\t\tid: employee?.id ?? 0,\r\n\t\t\tname,\r\n\t\t\trole: data.role as RolesType\r\n\t\t}\r\n\r\n\t\tdispatch(editEmployee(editedEmployee))\r\n\r\n\t\tenqueueSnackbar('Данные успешно обновлены', {\r\n\t\t\tvariant: 'success'\r\n\t\t})\r\n\t}\r\n\r\n\tconst handleAddEmployee = (data: EmployeeFormType, name: string) => {\r\n\t\tdispatch(addEmployee({ ...data, name, role: data.role as RolesType }))\r\n\r\n\t\tenqueueSnackbar('Вы успешно добавили работника', {\r\n\t\t\tvariant: 'success'\r\n\t\t})\r\n\t}\r\n\r\n\tconst onSubmit = (data: EmployeeFormType) => {\r\n\t\tconst name = `${data.name} ${data.lastName}`\r\n\r\n\t\tif (employee) handleEditEmployee(data, name)\r\n\t\telse handleAddEmployee(data, name)\r\n\r\n\t\tnavigate('/')\r\n\t}\r\n\r\n\treturn { onSubmit, handleSubmit, register, control, errors }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"fieldsWrapper\":\"EmployeeForm_fieldsWrapper__+5dst\",\"fields\":\"EmployeeForm_fields__VvAy4\",\"btnWrapper\":\"EmployeeForm_btnWrapper__DpoK9\"};","import { Controller } from 'react-hook-form'\r\nimport {\r\n\tArchiveCheckbox,\r\n\tButton,\r\n\tMaskTextField,\r\n\tRoleSelect,\r\n\tTextField\r\n} from 'shared/components'\r\n\r\nimport { useEmployeeForm } from '../hooks/useEmployeeForm'\r\n\r\nimport styles from './EmployeeForm.module.scss'\r\n\r\nconst EmployeeForm = () => {\r\n\tconst { control, handleSubmit, onSubmit, register, errors } =\r\n\t\tuseEmployeeForm()\r\n\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t<h2>Данные сотрудника:</h2>\r\n\t\t\t<div className={styles.fieldsWrapper}>\r\n\t\t\t\t<div className={styles.fields}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel='Имя'\r\n\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\tregister={register}\r\n\t\t\t\t\t\terror={errors?.name?.message}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel='Фамилия'\r\n\t\t\t\t\t\tname='lastName'\r\n\t\t\t\t\t\tregister={register}\r\n\t\t\t\t\t\terror={errors?.lastName?.message}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<MaskTextField\r\n\t\t\t\t\t\tlabel='Номер телефона'\r\n\t\t\t\t\t\tname='phone'\r\n\t\t\t\t\t\tcontrol={control}\r\n\t\t\t\t\t\terror={errors?.phone?.message}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<MaskTextField\r\n\t\t\t\t\t\tlabel='Дата рождения'\r\n\t\t\t\t\t\tname='birthday'\r\n\t\t\t\t\t\tcontrol={control}\r\n\t\t\t\t\t\terror={errors?.birthday?.message}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles.fields}>\r\n\t\t\t\t\t<Controller\r\n\t\t\t\t\t\tcontrol={control}\r\n\t\t\t\t\t\tname='role'\r\n\t\t\t\t\t\trender={({ field: { name, onChange, ref, value } }) => (\r\n\t\t\t\t\t\t\t<RoleSelect\r\n\t\t\t\t\t\t\t\tname={name}\r\n\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\tref={ref}\r\n\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t\tisRow={true}\r\n\t\t\t\t\t\t\t\terror={errors?.role?.message}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ArchiveCheckbox {...register('isArchive')} isRow={true} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.btnWrapper}>\r\n\t\t\t\t<Button variant='classic'>Сохранить</Button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default EmployeeForm\r\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"Header_header__GYEG7\",\"title\":\"Header_title__XXQuN\",\"crumbs\":\"Header_crumbs__WN2hd\",\"nextIcon\":\"Header_nextIcon__Ama7O\"};","import { NavLink } from 'react-router-dom'\r\nimport { Fragment } from 'react'\r\nimport { MdNavigateNext } from 'react-icons/md'\r\n\r\nimport styles from './Header.module.scss'\r\n\r\ntype HeaderProps = {\r\n\tcrumbs: string[]\r\n\ttitle: string\r\n}\r\n\r\nconst Header = (props: HeaderProps) => {\r\n\tconst { crumbs, title } = props\r\n\r\n\treturn (\r\n\t\t<header className={styles.header}>\r\n\t\t\t<div className={styles.crumbs}>\r\n\t\t\t\t{crumbs.map(crumb => (\r\n\t\t\t\t\t<Fragment key={crumb}>\r\n\t\t\t\t\t\t<NavLink to={'/'}>{crumb}</NavLink>\r\n\t\t\t\t\t\t<MdNavigateNext className={styles.nextIcon} />\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t))}\r\n\t\t\t\t<span>{title}</span>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.title}>\r\n\t\t\t\t<h1>{title}</h1>\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nexport default Header\r\n","import { useDispatch } from 'react-redux'\r\n\r\nimport { useActions, useTypedSelector } from 'shared/hooks'\r\nimport { SortLabel } from 'shared/components'\r\n\r\nconst EmployeeTableHead = () => {\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst { sortByName, sortByBirthday } = useTypedSelector(state => state)\r\n\tconst { setSortByName, setSortByBirthday } = useActions()\r\n\r\n\tconst onSortByName = (direction: 'up' | 'down') => {\r\n\t\tdispatch(setSortByName(direction))\r\n\t}\r\n\r\n\tconst onSortByBirthday = (direction: 'up' | 'down') => {\r\n\t\tdispatch(setSortByBirthday(direction))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<thead>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>\r\n\t\t\t\t\tИмя\r\n\t\t\t\t\t<SortLabel direction={sortByName} onClick={onSortByName} />\r\n\t\t\t\t</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\tДата рождения\r\n\t\t\t\t\t<SortLabel direction={sortByBirthday} onClick={onSortByBirthday} />\r\n\t\t\t\t</td>\r\n\t\t\t\t<td>Должность</td>\r\n\t\t\t\t<td>Номер телефона</td>\r\n\t\t\t\t<td>В архиве</td>\r\n\t\t\t</tr>\r\n\t\t</thead>\r\n\t)\r\n}\r\n\r\nexport default EmployeeTableHead\r\n","import { RolesType } from '../types/employee.types'\r\n\r\nexport const getRole = (role: RolesType) => {\r\n\tswitch (role) {\r\n\t\tcase 'cook':\r\n\t\t\treturn 'Повар'\r\n\t\tcase 'driver':\r\n\t\t\treturn 'Водитель'\r\n\t\tcase 'waiter':\r\n\t\t\treturn 'Официант'\r\n\t}\r\n}\r\n","import { useNavigate } from 'react-router-dom'\r\n\r\nimport { EmployeeType } from 'shared/types'\r\nimport { getRole } from 'shared/utils'\r\n\r\ntype EmployeeRowProps = {\r\n\temployee: EmployeeType\r\n}\r\nconst EmployeeTableRow = (props: EmployeeRowProps) => {\r\n\tconst { employee } = props\r\n\tconst navigate = useNavigate()\r\n\r\n\tconst onClick = () => navigate(`/employee/${employee.id}`)\r\n\r\n\treturn (\r\n\t\t<tr onClick={onClick}>\r\n\t\t\t<td>{employee.name}</td>\r\n\t\t\t<td>{employee.birthday}</td>\r\n\t\t\t<td>{getRole(employee.role)}</td>\r\n\t\t\t<td>{employee.phone}</td>\r\n\t\t\t<td>{employee.isArchive ? '+' : '-'}</td>\r\n\t\t</tr>\r\n\t)\r\n}\r\n\r\nexport default EmployeeTableRow\r\n","// extracted by mini-css-extract-plugin\nexport default {\"tableWrapper\":\"EmployeesTable_tableWrapper__8RNMe\"};","import { EmployeeTableHead, EmployeeTableRow } from 'entities/employee'\r\nimport { useTypedSelector } from 'shared/hooks'\r\n\r\nimport styles from './EmployeesTable.module.scss'\r\n\r\nconst EmployeesTable = () => {\r\n\tconst employees = useTypedSelector(state => state.filteredData)\r\n\r\n\treturn (\r\n\t\t<div className={styles.tableWrapper}>\r\n\t\t\t<table>\r\n\t\t\t\t<EmployeeTableHead />\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{employees.map(employee => (\r\n\t\t\t\t\t\t<EmployeeTableRow key={employee.id} employee={employee} />\r\n\t\t\t\t\t))}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default EmployeesTable\r\n"],"names":["Filters","dispatch","useDispatch","navigate","useNavigate","archiveFilter","roleFilter","useTypedSelector","state","filterByArchive","filterByRole","useActions","_jsxs","className","styles","children","_jsx","RoleSelect","onChange","value","ArchiveCheckbox","e","target","checked","Button","variant","onClick","MainPage","Header","crumbs","title","EmployeesTable","useSelector","actions","useGetEmployeeById","id","employees","find","resolver","async","errors","values","name","type","message","lastName","birthday","length","phone","role","getDefaultValues","employee","_employee$name$split","_employee$name","_employee$isArchive","_employee$role","_employee$phone","_names$","_names$2","_employee$birthday","names","split","isArchive","useEmployeeForm","_Number","employeeId","useParams","addEmployee","editEmployee","Number","handleSubmit","register","control","formState","useForm","defaultValues","onSubmit","data","handleEditEmployee","_employee$id","editedEmployee","enqueueSnackbar","handleAddEmployee","EmployeeForm","_errors$name","_errors$lastName","_errors$phone","_errors$birthday","TextField","label","error","MaskTextField","Controller","render","_ref","_errors$role","field","ref","isRow","props","map","crumb","Fragment","NavLink","to","MdNavigateNext","EmployeeTableHead","sortByName","sortByBirthday","setSortByName","setSortByBirthday","SortLabel","direction","getRole","filteredData","EmployeeTableRow"],"sourceRoot":""}